### ì„œë¸Œ ì½˜í…ì¸  7: ë§ˆì´í˜ì´ì§€
"""
[ì´ íŒŒì¼ì˜ ì—­í•  (ì„¸ ì¤„ ìš”ì•½)]
- Streamlit í™”ë©´ì—ì„œ 'ë§ˆì´í˜ì´ì§€' ì„¹ì…˜ì„ ê·¸ë¦½ë‹ˆë‹¤.
- ë¡œê·¸ì¸ë˜ì–´ ìˆìœ¼ë©´ FastAPI(/mypage/{user_id})ë¥¼ í†µí•´ supabase DBì˜ ì‚¬ìš©ì ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
- ì„œë²„ì—ì„œ ë°›ê±°ë‚˜(ë˜ëŠ” ì•„ì§ ë¡œê·¸ì¸ ì „/í†µì‹  ì‹¤íŒ¨ ì‹œ) ì•ˆì „í•œ ê¸°ë³¸ê°’ì„ session_stateì— ì±„ìš´ ë’¤ í™”ë©´ì— ì¶œë ¥í•©ë‹ˆë‹¤.

[ë°ì´í„° íë¦„]
FastAPI (ë°±ì—”ë“œ) â†’ (HTTP GET) â†’ Streamlit(í”„ë¡ íŠ¸) â†’ st.session_state ì €ì¥ â†’ UI ë Œë”ë§
"""

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 1. í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„í¬íŠ¸
#    - streamlit: ì›¹ UI ì‘ì„± ë¼ì´ë¸ŒëŸ¬ë¦¬. stë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.
#    - requests: FastAPI(ë°±ì—”ë“œ)ì— HTTP ìš”ì²­ì„ ë³´ë‚´ê³ , ì‘ë‹µ(JSON)ì„ ë°›ìŠµë‹ˆë‹¤.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
import streamlit as st
import requests

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 2. ë°±ì—”ë“œ(FastAPI) ê¸°ë³¸ ì£¼ì†Œ
#    - "http://localhost:8000"ëŠ” ë‚´ ì»´í“¨í„°(=localhost)ì—ì„œ 8000 í¬íŠ¸ë¡œ ì‹¤í–‰ ì¤‘ì¸ FastAPIë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
#    - ì‹¤ì œ ë°°í¬ ì‹œì—ëŠ” "https://api.example.com" ê°™ì€ ì‹¤ì œ ë„ë©”ì¸ìœ¼ë¡œ êµì²´í•©ë‹ˆë‹¤.
#      (http â†” https ì°¨ì´: ê°œë°œ ì¤‘ì—” http(ë³´ì•ˆX) / ìš´ì˜ì—ì„  https(ë³´ì•ˆO) ì‚¬ìš©)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
FASTAPI_ENDPOINT = "http://localhost:8000"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# 3. mypage_content = Streamlitì—ì„œ "ë§ˆì´í˜ì´ì§€ í™”ë©´"ì„ ê·¸ë¦¬ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.
#    - index.py ì—ì„œ ì´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ í™”ë©´ì´ ë Œë”ë§ë©ë‹ˆë‹¤.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
def mypage_content():
    st.title("ğŸ‘¤ ë§ˆì´í˜ì´ì§€")
    st.subheader("ë‚´ ì •ë³´")

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # [A] ë¡œê·¸ì¸ëœ ê²½ìš°ì—ë§Œ ë°±ì—”ë“œ ì„œë²„(FastAPI)ì— ìš”ì²­ì„ ë³´ë‚´ì„œ DB(supabase)ì˜ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤
    #     - ì¡°ê±´: session_stateì— user_idê°€ ìˆê³ , ê°’ì´ "ìµëª… ì‚¬ìš©ì"ê°€ ì•„ë‹ ë•Œ
    #     - ì„±ê³µ: ì‘ë‹µ JSONì„ session_stateì— ì±„ì›€
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    if "user_id" in st.session_state and st.session_state.user_id != "ìµëª… ì‚¬ìš©ì":
        try:
            # res = requests.get(url)
            # - GET: ì„œë²„ì—ì„œ "ì½ê¸°" ìš”ì²­ì„ ë³´ë‚¼ ë•Œ ì“°ëŠ” HTTP ë©”ì„œë“œ
            # - f"{...}": f-string. ì¤‘ê´„í˜¸({...}) ì•ˆì— íŒŒì´ì¬ ë³€ìˆ˜ê°€ ë“¤ì–´ê°€ ë¬¸ìì—´ì´ ì™„ì„±ë¨
            res = requests.get(f"{FASTAPI_ENDPOINT}/mypage/{st.session_state.user_id}")

            # res.status_code: HTTP ìƒíƒœ ì½”ë“œ(200=ì„±ê³µ, 404=ì—†ìŒ, 500=ì„œë²„ì˜¤ë¥˜ ë“±)
            if res.status_code == 200:
                data = res.json()  # ì‘ë‹µ ë³¸ë¬¸(JSON)ì„ íŒŒì´ì¬ dict/listë¡œ ë³€í™˜

                # ë¼ìš°í„°ê°€ ì‹¤íŒ¨ ì‹œ {"message": "..."} í˜•íƒœë¡œ ì‘ë‹µ(mypage_router.py ì°¸ì¡°)
                # "message" í‚¤ê°€ ì—†ìœ¼ë©´ ì •ìƒ ë°ì´í„°ë¡œ ê°„ì£¼í•©ë‹ˆë‹¤.
                if "message" not in data:
                    # dict.get("í‚¤"): í‚¤ê°€ ì—†ìœ¼ë©´ Noneì„ ëŒë ¤ì¤ë‹ˆë‹¤(ì•ˆì „)
                    st.session_state.nickname = data.get("name")
                    st.session_state.nickname_color = data.get("nickname_color")

                    st.session_state.contact = data.get("contact")
                    st.session_state.email = data.get("email")

                    st.session_state.points = data.get("total_point")
                    st.session_state.daily_point_bonus = data.get("daily_point_bonus")

                    st.session_state.attendance = data.get("attendance")
                    st.session_state.continuous_attendance = data.get("continuous_attendance")
                    st.session_state.last_attendance_date = data.get("last_attendance_date")

                    st.session_state.my_trophies = data.get("my_trophies")
                    st.session_state.purchased_indicators = data.get("purchased_indicators")

        except Exception as e:
            # except: ë„¤íŠ¸ì›Œí¬/ì„œë²„ ì—ëŸ¬ ë“± â†’ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼ (ì•± ì¤‘ë‹¨ X)
            # str(e): ì˜ˆì™¸ ê°ì²´ë¥¼ ì‚¬ëŒì´ ì½ì„ ìˆ˜ ìˆëŠ” ë¬¸ìì—´ë¡œ ë³€í™˜
            st.error(f"ì„œë²„ì—ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤. (ì‚¬ìœ : {str(e)})")

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # [B] ì„¸ì…˜ ê¸°ë³¸ê°’ ë³´ì¥
    #     - ì„œë²„ì—ì„œ ê°’ì„ ëª» ë¶ˆëŸ¬ì˜¤ê±°ë‚˜, ë¡œê·¸ì¸ ì „ì´ë¼ ë¹„ì–´ìˆì„ ê²½ìš° ëŒ€ë¹„
    #     - 'defaults' ë”•ì…”ë„ˆë¦¬: ì•ˆì „í•˜ê²Œ í™”ë©´ì— í‘œì‹œí•  ì˜ˆë¹„ ê°’ ëª©ë¡
    #     - forë¬¸: ëª©ë¡ì„ ëŒë©´ì„œ ì„¸ì…˜ì— ê°’ì´ ì—†ê±°ë‚˜(None) ë¹„ì–´ìˆìœ¼ë©´ ê¸°ë³¸ê°’ìœ¼ë¡œ ì±„ì›€
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    defaults = {
        "user_id": "ìµëª… ì‚¬ìš©ì",                # ë¡œê·¸ì¸ ì „ ê¸°ë³¸ ì•„ì´ë””
        "nickname": "ìµëª…",                      # ê¸°ë³¸ ë‹‰ë„¤ì„

        "contact": "ë¯¸ë“±ë¡",                     # ê¸°ë³¸ ì—°ë½ì²˜
        "email": "ë¯¸ë“±ë¡",                       # ê¸°ë³¸ ì´ë©”ì¼

        "points": 0,                             # ê¸°ë³¸ í¬ì¸íŠ¸
        "daily_point_bonus": 0,                  # ê¸°ë³¸ ë³´ë„ˆìŠ¤ ì ìˆ˜

        "attendance": 0,                         # ê¸°ë³¸ ì¶œì„ì¼ ìˆ˜
        "continuous_attendance": 0,              # ê¸°ë³¸ ì—°ì† ì¶œì„ì¼ ìˆ˜
        "last_attendance_date": "ê¸°ë¡ ì—†ìŒ",      # ê¸°ë³¸ ë§ˆì§€ë§‰ ì¶œì„ì¼

        "my_trophies": [],                       # ê¸°ë³¸ í›ˆì¥ ëª©ë¡(ë¹„ì–´ìˆìŒ)
        "purchased_indicators": [],              # ê¸°ë³¸ êµ¬ë§¤ ëª©ë¡(ë¹„ì–´ìˆìŒ)
    }

    # dict.items(): (í‚¤, ê°’) ìŒì„ ìˆœíšŒ â†’ ì„¸ì…˜ì— ê¸°ë³¸ê°’ ì±„ìš°ê¸°
    for key, value in defaults.items():
        # ì¡°ê±´: í‚¤ê°€ ì—†ê±°ë‚˜(None í¬í•¨) â†’ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •
        if key not in st.session_state or st.session_state[key] is None:
            st.session_state[key] = value

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # [C] í™”ë©´ì— í‘œì‹œí•˜ê¸° ì‰½ê²Œ, session_stateì˜ ê°’ì„ ì§€ì—­ ë³€ìˆ˜ë¡œ êº¼ë‚´ ë‘¡ë‹ˆë‹¤.
    #     (ì½ê¸° í¸í•˜ê³  ì˜¤íƒ€ ì¤„ì´ê¸° ëª©ì )
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    user_id = st.session_state.user_id
    nickname = st.session_state.nickname
    nickname_color = st.session_state.get("nickname_color", None)  # ìƒ‰ìƒì´ ì—†ì„ ìˆ˜ë„ ìˆìœ¼ë¯€ë¡œ None ê¸°ë³¸ê°’

    contact = st.session_state.contact
    email = st.session_state.email

    points = st.session_state.points
    daily_bonus = st.session_state.daily_point_bonus  # ë³´ë„ˆìŠ¤ëŠ” ì–‘ìˆ˜/ìŒìˆ˜ ëª¨ë‘ ê°€ëŠ¥(ì‚¬ìš©/ì§€ê¸‰)

    attendance = st.session_state.attendance
    continuous_attendance = st.session_state.continuous_attendance
    last_attendance_date = st.session_state.last_attendance_date

    my_trophies = st.session_state.my_trophies
    purchased_indicators = st.session_state.purchased_indicators

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # [D] ë‹‰ë„¤ì„ ì¶œë ¥ (ìƒ‰ìƒ ì ìš©)
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    if nickname_color:
        # HTML <span> íƒœê·¸ë¥¼ ì‚¬ìš©í•´ ê¸€ì ìƒ‰ìƒ ì ìš©
        # - style="color:...": ê¸€ììƒ‰ ì§€ì • (ì˜ˆ: #ff0000 ë˜ëŠ” 'red')
        # - unsafe_allow_html=True: HTMLì„ ì‹¤ì œë¡œ ê·¸ë¦¬ë„ë¡ í—ˆìš©(ê¸°ë³¸ì€ ë³´ì•ˆìƒ ë¹„í™œì„±)
        st.markdown(
            f'**ë‹‰ë„¤ì„:** <span style="color:{nickname_color}; font-weight:700;">{nickname}</span>',
            unsafe_allow_html=True
        )
    else:
        # ìƒ‰ìƒ ì •ë³´ê°€ ì—†ìœ¼ë©´ ê·¸ëƒ¥ êµµê²Œë§Œ í‘œì‹œ
        st.markdown(f"**ë‹‰ë„¤ì„:** {nickname}")

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # [E] ê¸°ë³¸ ì •ë³´(ì¢Œ) / ì¶œì„ ì •ë³´(ìš°) â€” CSS ì—†ì´ 2ì—´ ë°°ì¹˜ + ì¸ë¼ì¸ ì¶œë ¥
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    #   - st.columns(2): í™”ë©´ì„ 2ê°œì˜ ì„¸ë¡œ ì˜ì—­ìœ¼ë¡œ ë‚˜ëˆ•ë‹ˆë‹¤.
    #   - gap="medium": ë‘ ì—´ ì‚¬ì´ ê°„ê²©ì„ ì¤‘ê°„ ì •ë„ë¡œ ë§ì¶¥ë‹ˆë‹¤.
    left, right = st.columns(2, gap="medium")

    #   - st.markdown(f"**ë¼ë²¨:** ê°’") í˜•íƒœë¡œ í•œ ì¤„ì”© ì¶œë ¥í•©ë‹ˆë‹¤(êµµê²ŒëŠ” ** ë¡œ ê°ìŒˆ)
    # ì™¼ìª½: ê³„ì • ê¸°ë³¸ì •ë³´
    with left:
        st.markdown(f"**ì•„ì´ë””:** {user_id}")
        st.markdown(f"**ì—°ë½ì²˜:** {contact}")
        st.markdown(f"**ì´ë©”ì¼:** {email}")

    # ì˜¤ë¥¸ìª½: ì¶œì„ ê´€ë ¨ì •ë³´
    with right:
        st.markdown(f"**ì´ ì¶œì„ì¼:** {attendance}")
        st.markdown(f"**ì—°ì† ì¶œì„ì¼:** {continuous_attendance}")
        st.markdown(f"**ë§ˆì§€ë§‰ ì¶œì„ì¼:** {last_attendance_date}")

    # ì‹œê°ì  êµ¬ë¶„ì„ 
    st.divider()

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # [F] í¬ì¸íŠ¸/ë³´ë„ˆìŠ¤ ì§€í‘œ: metric 2ê°œ
    #   - st.metric(label, value, delta=None, delta_color="normal"):
    #       * value: í˜„ì¬ ê°’(êµµê²Œ í¬ê²Œ)
    #       * delta: ë³€í™”ëŸ‰(ì˜ˆ: +5, -3)
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    m1, m2 = st.columns(2)
    with m1:
        # ì´ ë³´ìœ  í¬ì¸íŠ¸ í˜„ì¬ê°’ + ì˜¤ëŠ˜(ë˜ëŠ” ì´ë²ˆ ë Œë”ë§ ê¸°ì¤€)ì˜ ë³´ë„ˆìŠ¤ë¥¼ deltaë¡œ í‘œê¸°
        st.metric("ì´ ë³´ìœ  í¬ì¸íŠ¸", f"{points:,} P", delta=f"{daily_bonus:+,} P")
    with m2:
        # ë³´ë„ˆìŠ¤ ìì²´ë„ ë³„ë„ ì§€í‘œë¡œ ë³´ì—¬ì¤Œ
        st.metric("ì¼ì¼ ì¶”ê°€ í¬ì¸íŠ¸ ë³´ë„ˆìŠ¤", f"{daily_bonus:,} P")

    # ì‹œê°ì  êµ¬ë¶„ì„ 
    st.divider()

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # [G] í›ˆì¥ ì„¹ì…˜ (í•˜ë‚˜ ì´ìƒì˜ í›ˆì¥ì´ ìˆë‹¤ë©´ ì‹¤í–‰í•©ë‹ˆë‹¤.)
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    st.subheader("íšë“í•œ í›ˆì¥")
    if my_trophies:
        # í›ˆì¥ ì½”ë“œ(í‚¤) â†’ ì´ë¦„/í¬ê·€ë„/ìƒ‰ìƒ ë“±ì˜ ë©”íƒ€ ì •ë³´(ê°’)ë¥¼ ë¯¸ë¦¬ ì •ì˜í•´ë‘” ë”•ì…”ë„ˆë¦¬ì…ë‹ˆë‹¤.
        trophies_meta = {
            "quiz_master_7days": {"name": "í€´ì¦ˆ ë§ˆìŠ¤í„° (7ì¼ ì—°ì†)", "rarity": "ë ˆì–´", "color": "#1E90FF"},
            "daily_champion": {"name": "ë°ì¼ë¦¬ ì±”í”¼ì–¸", "rarity": "ë…¸ë§", "color": "#A9A9A9"},
            "unique_learner": {"name": "ìœ ë‹ˆí¬ ëŸ¬ë„ˆ", "rarity": "ìœ ë‹ˆí¬", "color": "#800080"},
            "legendary_investor": {"name": "ë ˆì „ë“œ íˆ¬ìì", "rarity": "ë ˆì „ë“œ", "color": "#FFD700"}
        }

        # ë‚´ê°€ ê°€ì§„ í›ˆì¥ ì½”ë“œë“¤ì„ í•˜ë‚˜ì”© êº¼ë‚´ì„œ í™”ë©´ì— í‘œì‹œí•©ë‹ˆë‹¤.
        # ë§Œì•½ ì •ì˜ë˜ì§€ ì•Šì€ í›ˆì¥ ì½”ë“œê°€ ë“¤ì–´ì™€ë„ ì•±ì´ ì£½ì§€ ì•Šë„ë¡ "ì•Œ ìˆ˜ ì—†ëŠ” í›ˆì¥"ìœ¼ë¡œ ì•ˆì „ ì²˜ë¦¬í•©ë‹ˆë‹¤.
        for trophy_key in my_trophies:
            trophy = trophies_meta.get(
                trophy_key,
                {"name": "ì•Œ ìˆ˜ ì—†ëŠ” í›ˆì¥", "rarity": "", "color": "#000000"}  # ì•ˆì „ ê¸°ë³¸ê°’
            )

            # ì•„ë˜ëŠ” HTML ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ì„ ì ê¹ ì‚¬ìš©(ê°„ë‹¨í•œ ë°•ìŠ¤ ì‹œê°í™”ìš©).
            # - unsafe_allow_html=True: HTMLì„ ì‹¤ì œë¡œ ê·¸ë ¤ë„ ëœë‹¤ëŠ” í—ˆìš© ìŠ¤ìœ„ì¹˜.
            st.markdown(f"""
                <div style="border:1px solid #ddd; padding:8px; margin-bottom:4px; border-radius:4px; background-color:#f0f8ff;">
                    <strong style="color:{trophy['color']};">{trophy['name']} ({trophy['rarity']})</strong>
                </div>
            """, unsafe_allow_html=True)
    else:
        # ë³´ìœ  í›ˆì¥ì´ í•˜ë‚˜ë„ ì—†ì„ ë•Œ
        st.write("ì•„ì§ íšë“í•œ í›ˆì¥ì´ ì—†ìŠµë‹ˆë‹¤.")

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # [H] êµ¬ë§¤í•œ ë³´ì¡°ì§€í‘œ ì„¹ì…˜
    #     - ë¦¬ìŠ¤íŠ¸ê°€ ë¹„ì–´ìˆì§€ ì•Šìœ¼ë©´ í•˜ë‚˜ì”© ëª©ë¡ìœ¼ë¡œ ì¶œë ¥í•©ë‹ˆë‹¤, ì—†ìœ¼ë©´ ìƒì  ì•ˆë‚´ ë¬¸êµ¬
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    st.subheader("êµ¬ë§¤í•œ ë³´ì¡°ì§€í‘œ")
    if purchased_indicators:
        for indicator in purchased_indicators:
            st.markdown(f"- {indicator}")
    else:
        st.write("ì•„ì§ êµ¬ë§¤í•œ ë³´ì¡°ì§€í‘œê°€ ì—†ìŠµë‹ˆë‹¤. 'ë³´ì¡°ì§€í‘œ ìƒì ' í˜ì´ì§€ì—ì„œ êµ¬ë§¤í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ")
